//=============================================================================
//
// マップ処理 [Map.cpp]
// Author : HAL東京 GP12B332-19 80277 染谷武志
//
//=============================================================================
#include "Main.h"
#include "Map.h"

using namespace std;

//=============================================================================
// コンストラクタ
//=============================================================================
Map::Map()
{
	// csvデータ読み込み
	ReadCsv(MAP_FILE);


}

//=============================================================================
// デストラクタ
//=============================================================================
Map::~Map()
{

}

//=============================================================================
// 更新
//=============================================================================
void Map::Update()
{

}

//=============================================================================
// 描画
//=============================================================================
void Map::Draw()
{
	
}

//=============================================================================
// CSVファイルの読み込み
//=============================================================================
void Map::ReadCsv(const char *data)
{
	ifstream stream(data);		// マップの読み込み先

	int row = 0;
	int col;
	while (getline(stream, line))
	{
		col = 0;
		// delimを区切り文字として切り分け、intに変換してmaptbl[][]に格納する
		for (string::size_type spos, epos = 0;
			(spos = line.find_first_not_of(delim, epos)) != string::npos;)
		{
			string token = line.substr(spos, (epos = line.find_first_of(delim, spos)) - spos);
			maptbl[row][col++] = stoi(token);
		}
		++row;
	}
}