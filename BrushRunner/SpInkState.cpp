//=============================================================================
//
// アイテムの状態管理（SPインク）[SpInkState.cpp]
// Author : HAL東京 GP12B332-19 80277 染谷武志
//
//=============================================================================
#include "Main.h"
#include "SpInkState.h"

//*****************************************************************************
// マクロ定義
//*****************************************************************************
#define ACTIVE_TIME	(600)

//=============================================================================
// コンストラクタ
//=============================================================================
SpInkState::SpInkState(Item *owner) : owner_(owner)
{
	cnt = 0;
}

//=============================================================================
// デストラクタ
//=============================================================================
SpInkState::~SpInkState()
{
	delete owner_;
}

//=============================================================================
// 更新
//=============================================================================
void SpInkState::Update()
{
	cnt++;

	// アイテムの効果が終了
	if (cnt == ACTIVE_TIME)
	{
		owner_->SetActive(false);
		owner_->GetPlayer()->SetSpInk(false);
		owner_->GetPlayer()->SetHitItem(false);
	}
}

//=============================================================================
// 有効にするときだけ使う
//=============================================================================
void SpInkState::Start()
{
	cnt = 0;
	owner_->GetPlayer()->SetSpInk(true);
}